{"version":3,"sources":["setup/themes/muiTheme.tsx","setup/themes/styledComponentsTheme.tsx","setup/themes/ThemeProvider.tsx","services/project/redux/reducer.ts","services/bundler/redux/reducer.ts","commit_number.js","services/console/redux/reducer.ts","setup/redux/rootReducer.ts","services/project/defaultSources.js","services/project/projectService.ts","services/project/redux/actions.ts","services/project/redux/selectors.ts","services/project/sagas/newSource.saga.ts","services/project/sagas/updateSource.saga.ts","services/project/sagas/renameFile.saga.ts","services/project/sagas/deleteFile.saga.ts","services/project/sagas/rootSaga.ts","services/console/redux/actions.ts","services/bundler/redux/sagas/actions.ts","services/project/sagas/actions.ts","services/project/index.ts","services/bundler/bundlerService.ts","services/bundler/redux/actions.ts","services/bundler/redux/sagas/build.saga.ts","services/bundler/redux/sagas/rootSaga.ts","setup/redux/rootSaga.ts","setup/redux/store.ts","common/PipLayout/PipLayout.tsx","common/PipLayout/index.ts","common/ClickableTextField/ClickableTextField.tsx","features/appbar/views/buildIndicator/buildIndicator.tsx","features/appbar/views/buildIndicator/index.js","features/appbar/views/appbar/appbar.tsx","features/appbar/index.js","features/appbar/views/appbar/index.js","common/Button/Button.tsx","features/console/console.tsx","features/console/index.ts","features/sidebar/views/sourceFileRow/sourceFileRow.tsx","features/sidebar/views/sourceFileRow/index.js","features/sidebar/views/sourceFileList/sourceFileList.tsx","features/sidebar/views/sourceFileList/index.js","features/sidebar/views/sidebar/sidebar.tsx","features/sidebar/index.js","features/sidebar/views/sidebar/index.js","features/editor/customSimpleEditor/highlight.js","features/editor/customSimpleEditor/CustomSimpleEditor.tsx","features/editor/editor.tsx","features/editor/index.js","features/preview/interpreter.tsx","features/preview/preview.tsx","features/preview/index.ts","App.tsx","serviceWorker.js","index.js"],"names":["muiTheme","createMuiTheme","palette","type","primary","main","secondary","error","success","background","default","blueGrey","paper","theme","list","hover","button","red","augmentColor","deepOrange","green","ThemeProvider","props","styledComponentsTheme","StylesProvider","injectFirst","children","INITIAL_STATE","sourceFiles","activeSourceFileId","reducer","state","action","payload","filter","f","id","map","s","patch","isBuilding","buildError","bundle","messages","method","data","commit","nextId","args","rootReducer","combineReducers","sourceFileStore","sourceFileReducer","bundler","bundlerReducer","console","consoleReducer","name","code","existingSources","maxId","reduce","max","stored","window","localStorage","getItem","files","JSON","parse","Array","isArray","length","defaultFiles","sources","setItem","stringify","setFileList","setActiveFileId","patchFile","activeSourceFile","sourcesFiles","activeId","find","watchNewSource","newSource","take","call","select","selectors","existingFiles","ProjectService","createNewSourceFile","filesToAdd","saveFiles","put","watchUpdateSource","updateSource","newCode","storeActions","watchRenameFile","renameFile","newName","watchDeleteFile","deleteFile","rootSaga","loadFromLocalStorage","all","load","types","log","content","putMessage","info","clear","actions","sagaActions","Babel","presetReact","file","result","presets","transpiledCode","entryPoint","virtualModules","forEach","src","inputOptions","input","plugins","virtual","outputOptions","rollup","generate","generated","output","requestBuild","projectId","ReqBuild","finishBuild","finishBuildError","watchRequestBuild","build","browserConsole","debounce","project","transpiledFiles","i","transpiled","BundlerService","transpile","push","message","errorObj","rootProjectSaga","rootBundlerSaga","sagaMiddleware","createSagaMiddleware","store","createStore","applyMiddleware","run","Container","styled","div","Background","PictureInPicture","PipLayout","className","pip","ClickableTextField","defaultValue","controlledValue","value","onChange","onFocus","onBlur","inputRef","React","useRef","useState","uncontrolledValue","setUncontrolledValue","hasFocus","setFocus","onClick","current","focus","InputBase","fullWidth","event","undefined","target","Div","BuildIndicator","isError","connect","AppBar","originalName","setOriginalName","updateName","sourceFile","newSourceFile","Object","assign","date","Date","now","dispatch","StyledButton","ButtonBase","color","contrastText","dark","typography","fontFamily","fontSize","fontWeight","getColor","toLowerCase","withTheme","rest","Console","logs","variant","selected","Name","SourceFileRow","renderCount","this","Component","key","selectedSourceFileId","setSelected","SourceFileList","Sidebar","addSourceFile","removeSourceFile","highlightFn","highlight","languages","js","CustomSimpleEditor","onValueChange","padding","style","width","minHeight","Editor","updateCode","projectActions","bundlerActions","clearCanvas","canvas","ctx","save","setTransform","clearRect","height","restore","runSourceFile","getContext","Error","userFn","Function","err","canvasRef","createRef","useEffect","ref","rootState","Preview","App","Boolean","location","hostname","match","commitNumber","slice","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.5b08ce11.chunk.js","sourcesContent":["import { createMuiTheme } from '@material-ui/core';\n\nimport blueGrey from '@material-ui/core/colors/blueGrey';\n\nconst muiTheme = createMuiTheme({\n  palette: {\n    type: 'dark',\n\n    primary: { main: '#89FFF5' },\n    secondary: { main: '#1A4CAF' },\n    error: { main: '#9B1D20' },\n    success: { main: '#98CE5A' },\n    background: {\n      default: blueGrey[900],\n      paper: blueGrey[700],\n    },\n  },\n});\n\nexport default muiTheme;\n","import { DefaultTheme } from 'styled-components';\nimport { green, deepOrange } from '@material-ui/core/colors';\nimport muiTheme from './muiTheme';\n\nconst theme = {\n  ...muiTheme,\n  palette: {\n    ...muiTheme.palette,\n    background: {\n      default: muiTheme.palette.background.default,\n      paper: muiTheme.palette.background.paper,\n    },\n\n    list: {\n      background: muiTheme.palette.background.default,\n      hover: muiTheme.palette.background.paper,\n    },\n\n    button: {\n      default: muiTheme.palette.secondary,\n      red: muiTheme.palette.augmentColor({ main: deepOrange[800] }),\n      green: muiTheme.palette.augmentColor({ main: green[700] }),\n    },\n  },\n};\n\ndeclare module 'styled-components' {\n  type Theme = typeof theme;\n  export interface DefaultTheme extends Theme {}\n}\n\nexport type ApplicationTheme = DefaultTheme;\nexport default theme;\n","import React from 'react';\n\nimport { MuiThemeProvider } from '@material-ui/core/';\nimport StylesProvider from '@material-ui/styles/StylesProvider';\nimport { ThemeProvider as StyledThemeProvider } from 'styled-components';\n\nimport styledComponentsTheme from './styledComponentsTheme';\nimport muiTheme from './muiTheme';\n\nconst ThemeProvider = (props : any) => (\n  <StyledThemeProvider theme={styledComponentsTheme}>\n    <MuiThemeProvider theme={muiTheme}>\n      <StylesProvider injectFirst>\n        { props.children }\n      </StylesProvider>\n    </MuiThemeProvider>\n  </StyledThemeProvider>\n);\n\nexport default ThemeProvider;\n","import ProjectState from './projectState';\nimport { ProjectAction } from './actions';\n\nexport const INITIAL_STATE: ProjectState = {\n  sourceFiles: [],\n  activeSourceFileId: null,\n};\n\nconst reducer = (state = INITIAL_STATE, action: ProjectAction): ProjectState => {\n  switch (action.type) {\n    case 'project/SET_FILES':\n      return {\n        ...state,\n        sourceFiles: action.payload,\n      };\n    case 'project/APPEND_FILE':\n      return {\n        ...state,\n        sourceFiles: [...state.sourceFiles, action.payload],\n      };\n    case 'project/REMOVE_FILE':\n      return {\n        ...state,\n        sourceFiles: state.sourceFiles.filter((f) => f.id !== action.payload),\n      };\n    case 'project/SET_ACTIVE_FILE':\n      return {\n        ...state,\n        activeSourceFileId: action.payload as number,\n      };\n    case 'project/PATCH_FILE':\n      return {\n        ...state,\n        sourceFiles: state.sourceFiles.map((s) => {\n          const { patch, id } = action.payload;\n          if (s.id === id) {\n            return {\n              ...s,\n              ...patch,\n            };\n          }\n\n          return s;\n        }),\n      };\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import BundlerState from './bundlerState';\nimport type { BundlerAction } from './actions';\n\nexport const INITIAL_STATE: BundlerState = {\n  isBuilding: false,\n  buildError: null,\n  bundle: null,\n};\n\nconst reducer = (state = INITIAL_STATE, action: BundlerAction): BundlerState => {\n  switch (action.type) {\n    case 'bundler/BEGIN_BUILD':\n      return {\n        ...state,\n        isBuilding: true,\n      };\n    case 'bundler/FINISH_BUILD':\n      return {\n        ...state,\n        isBuilding: false,\n        buildError: null,\n        bundle: action.payload.bundle,\n      };\n    case 'bundler/FINISH_BUILD_ERROR':\n      return {\n        ...state,\n        isBuilding: false,\n        buildError: action.payload.error,\n        bundle: null,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","export default '333e702fee302bbb192b0ccf0c1db92edd1623d2';\n","import { ConsoleState } from './consoleState';\nimport type { ConsoleAction } from './actions';\n\nimport commit from '../../../commit_number';\nimport { Message } from '../types';\n\nexport const INITIAL_STATE: ConsoleState = {\n  messages: [{\n    id: '1',\n    method: 'info',\n    data: [`Version ${commit}`],\n  }],\n  nextId: 2,\n};\n\nconst reducer = (state = INITIAL_STATE, action: ConsoleAction): ConsoleState => {\n  switch (action.type) {\n    case 'console/PUT_MESSAGE':\n      return {\n        ...state,\n        messages: [...state.messages, {\n          id: `${state.nextId}`,\n          method: action.payload.method,\n          data: action.payload.args,\n        } as Message],\n        nextId: state.nextId + 1,\n      };\n    case 'console/CLEAR':\n      return {\n        ...state,\n        messages: [],\n      };\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import { combineReducers } from 'redux';\n\nimport sourceFileReducer from '../../services/project/redux/reducer';\nimport bundlerReducer from '../../services/bundler/redux/reducer';\nimport consoleReducer from '../../services/console/redux/reducer';\n\nconst rootReducer = combineReducers({\n  sourceFileStore: sourceFileReducer,\n  bundler: bundlerReducer,\n  console: consoleReducer,\n});\n\nexport default rootReducer;\n\nexport type RootState = ReturnType<typeof rootReducer>;\n","/* eslint-disable no-irregular-whitespace */\nexport default [\n  {\n    id: 1,\n    name: 'Main.js',\n    code: `\n// Esse playground pode ser usado para explorar o elemento HTML <canvas /> \n//\n// O contexto fica disponível na variável ctx\n// Ver: https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Basic_usage\nctx.fillStyle = 'rgb(200, 0, 0)';\nctx.fillRect(10, 10, 50, 50);\n\n// Todos os códigos são compilados juntos\n// então um pode impoertar objetos do outro\nimport { getLongCat } from 'Longcat';\n\nconsole.log(getLongCat());\n\n\n\n\n// Código fonte disponível em:\n// https://github.com/pedroblanc/p5x-playground\n//\n//\n// Aviso: versão EXTREMAMENTE inicial\n//\n// O código de usuário é interpretado no mesmo contexto que a aplicação\n// roda e tem acesso a todos os recursos da página.\n//\n// Ex: descomente para mudar o nome da página\n// document.title = 'Hacked!';\n\n`,\n  }, {\n    id: 2,\n    name: 'Longcat',\n    code: `\n// Longcat is looooooong\n\n// O codigo é transpilado, então podemos usar\n// características do ES6, como arrow functions\nexport const getLongCat = () => {\n  return \\`\n     /\\\\\\\\_____/\\\\\\\\\n    /         \\\\\\\\\n    |  O   O  |\n    \\\\\\\\    ∇    |\n     \\\\\\\\  _|_  /\n     /        \\\\\\\\______\n    /   ________     \\\\\\\\\n   | _______   \\\\\\\\ \\\\\\\\__/\n   |        \\\\\\\\__/\n   |        |\n   |        |\n   |        |\n   |        |\n   |        |\n   |        |\n   |        |\n   |        |\n   |        |\n   |        |\n   |        |\n\\`\n}\n\n\n`,\n},\n];\n","/* eslint-disable class-methods-use-this */\nimport { SourceFile } from './types';\n\nimport defaultFiles from './defaultSources.js';\n\nconst LS_STORAGE = 'sourceFiles';\n\nclass ProjectService {\n  public createNewSourceFile(existingSources : SourceFile[]) : SourceFile {\n    const maxId = existingSources.reduce((max, s) => (s.id > max ? s.id : max), 0);\n\n    return {\n      id: maxId + 1,\n      name: `New File (${maxId + 1})`,\n      code: '',\n    };\n  }\n\n  public load() : SourceFile [] {\n    try {\n      // eslint-disable-next-line no-undef\n      const stored = window?.localStorage?.getItem(LS_STORAGE);\n      const files = JSON.parse(stored || '');\n\n      if (Array.isArray(files) && files.length > 0) {\n        return files;\n      }\n    } catch {\n      return defaultFiles;\n    }\n\n    return defaultFiles;\n  }\n\n  public saveFiles(sources : SourceFile[]) {\n    // eslint-disable-next-line no-undef\n    window.localStorage.setItem(LS_STORAGE, JSON.stringify(sources));\n  }\n}\n\nexport default new ProjectService();\nexport type { ProjectService };\n","import { SourceFile } from '../types';\n\n// Action Creators\nexport const setFileList = (files: SourceFile[]) => ({\n  type: 'project/SET_FILES',\n  payload: files,\n} as const);\n\nexport const appendFile = (file: SourceFile) => ({\n  type: 'project/APPEND_FILE',\n  payload: file,\n} as const);\n\nexport const removeFile = (id: number) => ({\n  type: 'project/REMOVE_FILE',\n  payload: id,\n} as const);\n\nexport const setActiveFileId = (id: number) => ({\n  type: 'project/SET_ACTIVE_FILE',\n  payload: id,\n} as const);\n\nexport const patchFile = (id: number, patch: Partial<SourceFile>) => ({\n  type: 'project/PATCH_FILE',\n  payload: { id, patch },\n} as const);\n\nexport type ProjectAction =\n  | ReturnType<typeof setFileList>\n  | ReturnType<typeof appendFile>\n  | ReturnType<typeof removeFile>\n  | ReturnType<typeof setActiveFileId>\n  | ReturnType<typeof patchFile>\n","import { RootState } from '../../../setup/redux/rootReducer';\nimport { SourceFile } from '../types';\n\n// eslint-disable-next-line import/prefer-default-export\nexport function activeSourceFile(state: RootState) : SourceFile | null {\n  const sourcesFiles : SourceFile[] = state.sourceFileStore.sourceFiles;\n  const activeId = state.sourceFileStore.activeSourceFileId;\n\n  return sourcesFiles.find((s) => s.id === activeId) || null;\n}\n\nexport function files(state: RootState) : SourceFile[] {\n  return state?.sourceFileStore?.sourceFiles || [];\n}\n","import {\n  call, take, select, put,\n} from 'redux-saga/effects';\n\nimport type { SagaActionType } from './actions';\n\nimport * as storeActions from '../redux/actions';\nimport * as selectors from '../redux/selectors';\nimport ProjectService from '../projectService';\n\nexport function* watchNewSource() {\n  while (true) {\n    yield take('project/sagas/NEW_SOURCE' as SagaActionType);\n    yield call(newSource);\n  }\n}\n\nexport function* newSource() {\n  const existingFiles = yield select(selectors.files);\n  const filesToAdd = yield call(ProjectService.createNewSourceFile, existingFiles);\n\n  ProjectService.saveFiles([...existingFiles, filesToAdd]);\n  yield put(storeActions.appendFile(filesToAdd));\n}\n","import { take, select, put } from 'redux-saga/effects';\n\nimport * as storeActions from '../redux/actions';\nimport * as selectors from '../redux/selectors';\n\nimport * as actions from './actions';\nimport type { SagaActionType } from './actions';\nimport ProjectService from '../projectService';\n\n\nexport function* watchUpdateSource() {\n  while (true) {\n    const action = yield take('project/sagas/UPDATE_SOURCE' as SagaActionType);\n    yield updateSource(action);\n  }\n}\n\nexport function* updateSource(action: ReturnType<typeof actions.updateSource>) {\n  const { id, newCode } = action.payload;\n\n  const files = selectors.files(yield select());\n  files.map((f) => {\n    if (f.id === id) { return { ...f, code: newCode }; }\n    return f;\n  });\n\n  ProjectService.saveFiles(files);\n  yield put(storeActions.patchFile(id, { code: newCode }));\n}\n","import {\n  take, select, put,\n} from 'redux-saga/effects';\nimport type { SagaActionType } from './actions';\n\nimport * as actions from './actions';\nimport * as storeActions from '../redux/actions';\nimport * as selectors from '../redux/selectors';\nimport ProjectService from '../projectService';\n\nexport function* watchRenameFile() {\n  while (true) {\n    const action = yield take('project/sagas/RENAME_FILE' as SagaActionType);\n    yield renameFile(action);\n  }\n}\n\nexport function* renameFile(action: ReturnType<typeof actions.renameFile>) {\n  const { id, newName } = action.payload;\n  \n  const files = selectors.files(yield select());\n  files.map((f) => {\n    if (f.id === id) {\n      return { ...f, name: newName };\n    }\n    return f;\n  });\n\n  ProjectService.saveFiles(files);\n  yield put(storeActions.patchFile(id, { name: newName }));\n}\n","import { take, select, put } from 'redux-saga/effects';\n\nimport * as storeActions from '../redux/actions';\nimport * as selectors from '../redux/selectors';\n\nimport * as actions from './actions';\nimport type { SagaActionType } from './actions';\nimport ProjectService from '../projectService';\n\nexport function* watchDeleteFile() {\n  while (true) {\n    const action = yield take('project/sagas/DELETE_FILE' as SagaActionType);\n    yield deleteFile(action);\n  }\n}\n\nexport function* deleteFile(action: ReturnType<typeof actions.deleteFile>) {\n  const { id } = action.payload;\n\n  let files = selectors.files(yield select());\n  files = files.filter((f) => f.id !== id);\n\n  ProjectService.saveFiles(files);\n  yield put(storeActions.setFileList(files));\n}\n","/* eslint-disable no-console */\nimport { all, put } from 'redux-saga/effects';\n\nimport ProjectService from '../projectService';\n\nimport * as storeActions from '../redux/actions';\nimport { watchNewSource } from './newSource.saga';\nimport { watchUpdateSource } from './updateSource.saga';\nimport { watchRenameFile } from './renameFile.saga';\nimport { watchDeleteFile } from './deleteFile.saga';\n\n\nexport default function* rootSaga() {\n  yield loadFromLocalStorage();\n  \n  yield all([\n    watchNewSource(),\n    watchUpdateSource(),\n    watchRenameFile(),\n    watchDeleteFile(),\n  ]);\n}\n\nfunction* loadFromLocalStorage() {\n  const sources = ProjectService.load();\n  yield put(storeActions.setFileList(sources));\n  yield put(storeActions.setActiveFileId(sources[0]?.id));\n}\n","import type { Methods } from '../types';\n\nexport const log = (content: unknown) => {\n  return putMessage('log', [content || '']);\n};\n\nexport const info = (content: unknown) => {\n  return putMessage('info', [content || '']);\n};\n\nexport const error = (content: unknown) => {\n  return putMessage('error', [content || '']);\n};\n\nexport const clear = () => ({\n  type: 'console/CLEAR',\n} as const);\n\nconst putMessage = (method: Methods, args: unknown[]) => ({\n  type: 'console/PUT_MESSAGE',\n  payload: {\n    method,\n    args,\n  },\n} as const);\n\nexport type ConsoleAction =\n  | ReturnType<typeof putMessage>\n  | ReturnType<typeof clear>\n","export enum types {\n  ReqBuild = 'bundler/sagas/REQ_BUILD',\n}\n\nexport const requestBuild = (projectId: number) => ({\n  type: types.ReqBuild,\n  payload: { projectId },\n} as const);\n\nexport type BundlerSagaAction =\n  | ReturnType<typeof requestBuild>\n","export const newSource = () => ({\n  type: 'project/sagas/NEW_SOURCE',\n} as const);\n\nexport const updateSource = (id: number, newCode: string) => ({\n  type: 'project/sagas/UPDATE_SOURCE',\n  payload: { id, newCode },\n} as const);\n\nexport const renameFile = (id: number, newName: string) => ({\n  type: 'project/sagas/RENAME_FILE',\n  payload: { id, newName },\n} as const);\n\nexport const deleteFile = (id: number) => ({\n  type: 'project/sagas/DELETE_FILE',\n  payload: { id },\n} as const);\n\nexport type SagaAction =\n  | ReturnType<typeof newSource>\n  | ReturnType<typeof updateSource>\n  | ReturnType<typeof renameFile>\n  | ReturnType<typeof deleteFile>\n\nexport type SagaActionType = SagaAction['type'];\n","import * as storeActions from './redux/actions';\nimport * as sagaActions from './sagas/actions';\nimport * as selectors from './redux/selectors';\n\nconst actions = {\n  setActiveFileId: storeActions.setActiveFileId,\n  ...sagaActions,\n};\n\nexport { actions, selectors };\n","/* eslint-disable class-methods-use-this */\nimport * as Babel from '@babel/standalone';\nimport * as rollup from 'rollup';\nimport virtual from '@rollup/plugin-virtual';\nimport presetReact from '@babel/preset-react';\n\nimport { SourceFile } from '../project/types';\n\ninterface TranspiledSource {\n  name: string;\n  transpiledCode: string;\n}\n\nexport class BundlerService {\n  constructor() {\n    // setup babel\n    Babel.registerPreset('@babel/preset-react', presetReact);\n  }\n\n  public build() : string {\n    console.log('Should compile project');\n    return '// This should be the bundled code';\n  }\n\n  transpile(file : SourceFile) : TranspiledSource {\n    const babelConfig = {\n      presets: ['@babel/preset-react'],\n    };\n  \n    const result = Babel.transform(file.code, babelConfig);\n  \n    return {\n      name: file.name,\n      transpiledCode: result.code ?? '',\n    };\n  }\n\n  async bundle(sources: TranspiledSource[], entryPoint: string) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const virtualModules : any = {};\n    (sources || []).forEach((src) => {\n      virtualModules[src.name] = src.transpiledCode;\n    });\n  \n    const inputOptions = {\n      input: entryPoint,\n      plugins: [\n        virtual(virtualModules) as Plugin,\n      ],\n    };\n    const outputOptions = {};\n  \n    const bundler = await rollup.rollup(inputOptions);\n    const generated = await bundler.generate(outputOptions);\n    return generated.output[0].code;\n  }\n}\n\nexport default new BundlerService();\n","export const beginBuild = () => ({\n  type: 'bundler/BEGIN_BUILD',\n} as const);\n\nexport const finishBuild = (bundle: string) => ({\n  type: 'bundler/FINISH_BUILD',\n  payload: { bundle },\n} as const);\n\nexport const finishBuildError = (error: Error) => ({\n  type: 'bundler/FINISH_BUILD_ERROR',\n  payload: { error },\n} as const);\n\nexport type BundlerAction =\n  | ReturnType<typeof beginBuild>\n  | ReturnType<typeof finishBuild>\n  | ReturnType<typeof finishBuildError>\n","import {\n  debounce, put, select, call,\n} from 'redux-saga/effects';\n\nimport * as console from '../../../console';\nimport * as project from '../../../project';\n\nimport BundlerService from '../../bundlerService';\nimport * as sagaActions from './actions';\nimport * as storeActions from '../actions';\n\n// eslint-disable-next-line no-undef\nconst browserConsole = window?.console;\n\nexport function* watchRequestBuild() {\n  yield debounce(1000, sagaActions.types.ReqBuild, build);\n}\n\nexport function* build() {\n  yield put(console.actions.clear());\n  yield put(console.actions.info('Starting Build...'));\n  \n  try {\n    const state = yield select();\n    const files = project.selectors.files(state);\n    const entryPoint = files[0].name;\n\n    yield put(console.actions.info(`Entry point is ${entryPoint}`));\n    yield put(storeActions.beginBuild());\n\n    try {\n      const transpiledFiles = [];\n      for (let i = 0; i < files.length; i++) {\n        try {\n          const transpiled = BundlerService.transpile(files[i]);\n          transpiledFiles.push(transpiled);\n        } catch (e) {\n          yield put(console.actions.error(`Transpilation error in file ${files[i].name}`));\n          yield put(console.actions.error(e));\n          yield put(console.actions.error(e.message));\n\n          throw e;\n        }\n      }\n\n      let bundle = '';\n      try {\n        bundle = yield call(BundlerService.bundle, transpiledFiles, files[0].name);\n      } catch (e) {\n        yield put(console.actions.error('Error at project bundling'));\n        yield put(console.actions.error(e));\n        yield put(console.actions.error(e.message));\n\n        throw e;\n      }\n\n      yield put(console.actions.info('Build complete!'));\n      browserConsole.log('Build complete!');\n      browserConsole.log({ bundle });\n\n      yield put(storeActions.finishBuild(bundle));\n    } catch (e) {\n      yield put(storeActions.finishBuildError(e));\n      throw e;\n    }\n  } catch (e) {\n    browserConsole.log({ errorObj: e });\n    // browserConsole.error('Error in build saga', e);\n  }\n}\n","import { all } from 'redux-saga/effects';\n\nimport { watchRequestBuild } from './build.saga';\n\nexport default function* rootSaga() {\n  yield all([\n    watchRequestBuild(),\n  ]);\n}\n","import { all } from 'redux-saga/effects';\n\nimport rootProjectSaga from '../../services/project/sagas/rootSaga';\nimport rootBundlerSaga from '../../services/bundler/redux/sagas/rootSaga';\n\nexport default function* rootSaga() {\n  yield all([\n    rootProjectSaga(),\n    rootBundlerSaga(),\n  ]);\n}\n","import { createStore, applyMiddleware, Store } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\n\nimport rootReducer, { RootState } from './rootReducer';\nimport rootSaga from './rootSaga';\n\n\nconst sagaMiddleware = createSagaMiddleware();\n\nconst store : Store<RootState> = createStore(\n  rootReducer,\n  applyMiddleware(sagaMiddleware),\n);\n\nsagaMiddleware.run(rootSaga);\n\nexport default store;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Container = styled.div`\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-areas:\n     \".  .  .\"\n     \". pip .\"\n     \".  .  .\";\n\n  @media (max-width : 640px) {\n    grid-template-columns: 7% 1fr 7%;\n    grid-template-rows: 1fr auto 5%;\n  }\n  @media (min-width : 641px) {\n    grid-template-columns: 1fr max(290px, min(40%, 480px)) 24px;\n    grid-template-rows: 1fr auto 24px;\n  }\n`;\n\nconst Background = styled.div`\n  grid-column: 1 / -1 ;\n  grid-row: 1 / -1;\n\n  width: 100%;\n  height: 100%;\n`;\n\nconst PictureInPicture = styled.div`\n  grid-area: pip;\n\n  & > .pip-adjust-ratio {\n    position: relative;\n    height: 0;\n    padding-bottom: 56.25%; /* 56.25% = 16:9 ratio */\n\n    & > .pip-fill-height {\n      position: absolute;\n      top: 0; bottom: 0; left: 0; right: 0;\n    }\n  }\n`;\n\nexport const PipLayout : React.FC<Props> = ({\n  className, background, pip,\n}) => (\n  <Container className={className}>\n    <Background>\n      {background}\n    </Background>\n    <PictureInPicture>\n      <div className=\"pip-adjust-ratio\">\n        <div className=\"pip-fill-height\">\n          {pip}\n        </div>\n      </div>\n    </PictureInPicture>\n  </Container>\n);\n\ninterface Props {\n  className?: string;\n  background: React.ReactNode;\n  pip: React.ReactNode;\n}\n\nexport default PipLayout;\n","import PipLayout from './PipLayout';\n\nexport default PipLayout;\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport InputBase from '@material-ui/core/InputBase';\n\nexport const ClickableTextField : React.FC<Props> = ({\n  className, defaultValue, value: controlledValue, onChange, onFocus, onBlur,\n}) => {\n  const inputRef = React.useRef<HTMLInputElement>();\n  const [uncontrolledValue, setUncontrolledValue] = useState<string|null>(null);\n  const [hasFocus, setFocus] = useState(false);\n\n  return (\n    <Container\n      className={className}\n      onClick={() => inputRef?.current?.focus()}\n    >\n      <InputBase\n        inputRef={inputRef}\n        fullWidth\n\n        value={\n          hasFocus\n            ? controlledValue ?? uncontrolledValue\n            : (controlledValue ?? uncontrolledValue) || defaultValue\n        }\n\n        onFocus={() => {\n          setFocus(true);\n          if (onFocus) { onFocus(); }\n        }}\n        onBlur={() => {\n          setFocus(false);\n          if (onBlur) { onBlur(); }\n        }}\n        onChange={(event) => {\n          const isControlled = (controlledValue !== undefined && controlledValue !== null);\n          if (isControlled) {\n            setUncontrolledValue(null);\n          } else {\n            setUncontrolledValue(event.target.value);\n          }\n\n          if (onChange) { onChange(event.target.value); }\n        }}\n      />\n    </Container>\n  );\n};\n\nconst Container = styled('div')`\n  border-radius: 5px;\n\n  padding-left: 0.5em;\n  padding-right: 0.5em;\n\n  input {\n    cursor: default;\n  }\n\n  :hover {\n    background-color: ${({ theme }) => theme.palette.background.paper};\n  }\n  :focus-within {\n    background-color: ${({ theme }) => theme.palette.background.paper};\n    cursor: text;\n    input {\n      cursor: text;\n    }\n  }\n`;\n\ninterface Props {\n  className?: string;\n  label?: string;\n  defaultValue?: string;\n  value?: string;\n  onChange?: ((value: string) => void) | (() => void);\n  onFocus?: () => void;\n  onBlur?: () => void;\n}\n","import React from 'react';\nimport styled from 'styled-components';\n\nexport interface StateProps {\n  isError: boolean;\n  isBuilding: boolean;\n}\n\nconst BuildIndicator : React.FC<StateProps> = ({ isError, isBuilding }) => {\n  return (\n    <Div>\n      {\n        (isError) ? (\n          <span className=\"build-indicator--error\">Build Error</span>\n        ) : null\n      }\n      {\n        (isBuilding && !isError) ? (\n          <span className=\"build-indicator--building\"> Building...</span>\n        ) : null\n      }\n    </Div>\n  );\n};\n\nconst Div = styled.div`\n  padding: 8px;\n  margin-right: 16px;\n\n  & .build-indicator {\n    &--building {\n      color: rgba(255, 255, 255, 0.8);\n    }\n\n    &--error {\n      color: #d84315;\n    }\n  }\n`;\n\nexport default BuildIndicator;\n","import { connect } from 'react-redux';\n\nimport BuildIndicator from './buildIndicator';\n\nfunction mapStateToProps(state) {\n  return {\n    isError: !!state.bundler.buildError,\n    isBuilding: state.bundler.isBuilding,\n  };\n}\n\nexport default connect(mapStateToProps)(BuildIndicator);\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { ClickableTextField } from '../../../../common/ClickableTextField/ClickableTextField';\nimport { SourceFile } from '../../../../services/project/types';\nimport BuildIndicator from '../buildIndicator';\n\nconst AppBar = (props: AppbarProps) => {\n  const [originalName, setOriginalName] = useState<string | undefined>('');\n\n  const updateName = (name?: string) => {\n    if (props.sourceFile) {\n      const newSourceFile = Object.assign(props.sourceFile, { name: name ?? '' });\n      props.renameFile(newSourceFile);\n    }\n  };\n\n  return (\n    <Container className={props.className}>\n      <ClickableTextField\n        defaultValue={originalName}\n        value={props.sourceFile?.name}\n        onFocus={() => {\n          setOriginalName(props.sourceFile?.name);\n        }}\n        onBlur={() => {\n          if (!props.sourceFile?.name && originalName) {\n            updateName(originalName);\n          }\n        }}\n        onChange={(value) => { updateName(value); }}\n      />\n\n      <BuildIndicator />\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  width: 100%;\n  background-color: ${(props) => props.theme.palette.background.default};\n  padding-left: 4px;\n  padding-right: 4px;\n\n  display: grid;\n  grid-template-columns: 1fr auto;\n  align-items: center;\n`;\n\ninterface AppbarProps {\n  className?: string;\n  sourceFile?: SourceFile;\n  renameFile: (sourceFile: SourceFile) => void;\n}\n\nexport default AppBar;\n","import AppBar from './views/appbar';\n\nexport default AppBar;\n","import { connect } from 'react-redux';\n\nimport { selectors, actions } from '../../../../services/project';\n\nimport AppBar from './appbar';\n\nconst mapStateToProps = (state) => ({\n  sourceFile: selectors.activeSourceFile(state),\n  date: Date.now(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  renameFile: (id, name) => dispatch(actions.renameFile(id, name)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AppBar);\n","import React from 'react';\nimport ButtonBase, { ButtonBaseProps } from '@material-ui/core/ButtonBase';\nimport styled, { withTheme } from 'styled-components';\n\nimport IconMore from '@material-ui/icons/MoreHoriz';\nimport { ApplicationTheme } from '../../setup/themes/styledComponentsTheme';\n\nconst Button : React.FC<Props> = ({\n  children, color, theme, ...rest\n}) => (\n  <StyledButton\n    children={children ?? <IconMore />}\n    color={getColor(color, theme)}\n    theme={theme}\n    {...rest}\n  />\n);\n\nconst StyledButton = styled<any>(ButtonBase)`\n  min-height: 32px;\n  margin: 4px;\n  padding: 4px 8px;\n  border-radius: 5px;\n  color: ${({ color }) => color.contrastText};\n  background-color: ${({ color }) => color.main};\n  :hover {\n    background-color: ${({ color }) => color.dark}\n  }\n\n  font-family: ${({ theme }) => theme.typography.button.fontFamily};\n  font-size: ${({ theme }) => theme.typography.button.fontSize};\n  font-weight: ${({ theme }) => theme.typography.button.fontWeight};\n  text-transform: uppercase;\n`;\n\nconst getColor = (color: string | undefined, theme: ApplicationTheme) => {\n  switch ((color ?? '').toLowerCase()) {\n    case 'red':\n      return theme.palette.button.red;\n    case 'green':\n      return theme.palette.button.green;\n    default:\n      return theme.palette.button.default;\n  }\n};\n\ninterface Props extends ButtonBaseProps {\n  className?: string;\n  color?: string;\n  theme: ApplicationTheme\n}\n\nexport default withTheme(Button);\n","import React from 'react';\n\nimport { Console as ConsoleFeed } from 'console-feed';\n\nimport type { ConnectedProps } from './index';\n\ntype OwnProps = {\n  className?: string;\n}\n\n// TODO: create store to feed console, incorporate into UI\nconst Console : React.FC<ConnectedProps & OwnProps> = ({ className, messages }) => {\n  return (\n    <div className={className}>\n      <ConsoleFeed logs={messages} variant=\"dark\" />\n    </div>\n  );\n};\n\nexport default Console;\n","import { connect } from 'react-redux';\n\nimport Console from './console';\nimport { RootState } from '../../setup/redux/rootReducer';\n\nconst mapStateToProps = (state : RootState) => ({\n  messages: state.console.messages,\n});\n\nexport type ConnectedProps = ReturnType<typeof mapStateToProps>;\n\nexport default connect(mapStateToProps)(Console);\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport { SourceFile } from '../../../../services/project/types';\n\ninterface SourceFileRowProps {\n  sourceFile: SourceFile;\n  selected?: boolean;\n  onClick?: any;\n}\n\nconst Container = styled('div')<{selected?: boolean} & React.HTMLAttributes<HTMLDivElement>>`\n  width: 100%;\n  min-height: 48px;\n\n  color: white;\n  cursor: pointer;\n\n  background-color: ${({ selected, theme }) => (\n    selected\n      ? theme.palette.list.hover\n      : theme.palette.list.background\n  )};\n\n  :hover {\n    background-color: ${(props) => props.theme.palette.list.hover};\n  }\n`;\n\nconst Name = styled.div`\n  padding: 6px;\n  padding-left: 8px;\n\n  color: white;\n  font-size: 1em;\n  font-weight: 500;\n`;\n\nclass SourceFileRow extends React.Component<SourceFileRowProps> {\n  renderCount = 0;\n\n  render() {\n    this.renderCount += 1;\n\n    return (\n      <Container onClick={this.props.onClick} selected={this.props.selected}>\n        <Name>{this.props.sourceFile.name}</Name>\n      </Container>\n    );\n  }\n}\n\nexport default SourceFileRow;\n","import SourceFileRow from './sourceFileRow';\n\nexport default SourceFileRow;\n","import React from 'react';\n\nimport styled from 'styled-components';\nimport SourceFileRow from '../sourceFileRow';\nimport { SourceFile } from '../../../../services/project/types';\n\n\nexport const SourceFileList : React.FC<SourceFileListProps> = (props) => (\n  <div className={props.className}>\n    {props.sourceFiles?.map((s, i) => (\n      <SourceFileRow\n        sourceFile={s}\n        key={i}\n        selected={s.id === props.selectedSourceFileId}\n        onClick={() => props.setSelected(s.id)}\n      />\n    ))}\n  </div>\n);\n\ninterface SourceFileListProps {\n  className?: string;\n  sourceFiles: SourceFile[];\n  selectedSourceFileId: number;\n  setSelected: (id: number) => void;\n}\n\nexport default styled(SourceFileList)`\n  height: 100%;\n  overflow-y: auto;\n`;\n","import { connect } from 'react-redux';\n\nimport SourceFileList from './sourceFileList';\n\nimport { actions } from '../../../../services/project';\n\nconst mapStateToProps = ({ sourceFileStore }) => ({\n  sourceFiles: sourceFileStore.sourceFiles,\n  selectedSourceFileId: sourceFileStore.activeSourceFileId,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  setSelected: (id) => dispatch(actions.setActiveFileId(id)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SourceFileList);\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport IconDelete from '@material-ui/icons/Delete';\nimport IconAdd from '@material-ui/icons/Add';\n\nimport Button from '../../../../common/Button/Button';\n\nimport Console from '../../../console';\nimport SourceFileList from '../sourceFileList';\n\nconst Sidebar : React.FC<SidebarProps> = ({\n  className, addSourceFile, removeSourceFile, activeSourceFileId,\n}) => {\n  return (\n    <Container className={className}>\n      <SourceFileList className=\"list\" />\n\n      <Button\n        className=\"button-add\"\n        color=\"green\"\n        onClick={addSourceFile}\n      >\n        <IconAdd />\n      </Button>\n\n      <Button\n        className=\"button-delete\"\n        color=\"Red\"\n        onClick={() => removeSourceFile(activeSourceFileId)}\n      >\n        <IconDelete />\n      </Button>\n\n      <Console className=\"console\" />\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  position: relative;\n  height: 100%;\n  overflow-y: hidden;\n\n  background-color: ${(props) => props.theme.palette.background.default};\n\n  display: grid;\n  grid-template-rows: 1fr 64px 1fr;\n  grid-template-columns: 70% 30%;\n  grid-template-areas:\n    \"list list\"\n    \"add delete\"\n    \"console console\";\n\n  & .list {\n    margin-top: 12px;\n    grid-area: list;\n  }\n\n  & .button-add {\n    grid-area: add;\n    margin: 12px 6px;\n  }\n\n  & .button-delete {\n    grid-area: delete;\n    margin: 12px 6px;\n  }\n\n  & .console {\n    grid-area: console;\n    background-color: black;\n    overflow-y: auto;\n  }\n`;\n\ninterface SidebarProps {\n  className: string;\n  activeSourceFileId: number;\n  addSourceFile: () => void;\n  removeSourceFile: (id: number) => void;\n}\n\nexport default Sidebar;\n","import Sidebar from './views/sidebar';\n\nexport default Sidebar;\n","import { connect } from 'react-redux';\n\nimport Sidebar from './sidebar';\nimport { actions } from '../../../../services/project';\n\nconst mapStateToProps = ({ sourceFileStore }) => ({\n  sourceFiles: sourceFileStore.sourceFiles,\n  activeSourceFileId: sourceFileStore.activeSourceFileId,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  addSourceFile: () => dispatch(actions.newSource()),\n  removeSourceFile: (id) => dispatch(actions.deleteFile(id)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Sidebar);\n","import { highlight, languages } from 'prismjs/components/prism-core';\n\nconst highlightFn = (code) => highlight(code, languages.js);\n\nexport default highlightFn;\n","import React from 'react';\n\nimport ReactSimpleCodeEditor from 'react-simple-code-editor';\nimport highlight from './highlight';\n\nimport 'prismjs/components/prism-clike';\nimport 'prismjs/components/prism-javascript';\n\nimport './prism.css';\n\n\ninterface CustomSimpleEditorProps {\n  value?: string;\n  onValueChange: (value: string) => void;\n}\n\nexport const CustomSimpleEditor = (props: CustomSimpleEditorProps) => (\n  <ReactSimpleCodeEditor\n    value={props.value || ''}\n    onValueChange={props.onValueChange}\n    highlight={highlight}\n    padding={10}\n    style={{\n      fontFamily: '\"Fira code\", \"Fira Mono\", monospace',\n      fontSize: 12,\n      color: 'white',\n      width: '100%',\n      minHeight: '100%',\n    }}\n  />\n);\n\nexport default CustomSimpleEditor;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport CustomSimpleEditor from './customSimpleEditor/CustomSimpleEditor';\nimport { SourceFile } from '../../services/project/types';\n\ninterface EditorProps {\n  className?: string;\n  count?: number;\n  sourceFile?: SourceFile;\n  updateCode: (id: number, value: string) => void;\n  requestBuild: () => void;\n}\n\nconst Div = styled.div`\n  background-color: ${(props) => props.theme.palette.background.default};\n  height: 100%;\n  overflow-y: auto;\n`;\n\nconst Editor : React.FC<EditorProps> = (props) => {\n  return (\n    <Div className={props.className}>\n      <CustomSimpleEditor\n        value={props?.sourceFile?.code}\n        onValueChange={(value) => {\n          const id = props.sourceFile?.id;\n          if (id) {\n            props.updateCode(id, value);\n            props.requestBuild();\n          }\n        }}\n      />\n    </Div>\n  );\n};\n\nexport default Editor;\n","import { connect } from 'react-redux';\n\nimport { selectors, actions as projectActions } from '../../services/project';\nimport { actions as bundlerActions } from '../../services/bundler';\n\nimport Editor from './editor';\n\nconst mapStateToProps = (state) => ({\n  sourceFile: selectors.activeSourceFile(state),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  updateCode: (id, newCode) => dispatch(projectActions.updateSource(id, newCode)),\n  requestBuild: () => dispatch(bundlerActions.requestBuild(0)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Editor);\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { RefObject } from 'react';\n\n\nconst runSourceFile = (code?: string, canvas?: RefObject<HTMLCanvasElement>) => {\n  const ctx = canvas?.current?.getContext('2d');\n\n  if (ctx) {\n    try {\n      // eslint-disable-next-line no-new-func\n      const userFn = Function(`return (ctx) => {\n        ${code}\n      }`)();\n\n      try {\n        clearCanvas(canvas!.current!, ctx!);\n        userFn(ctx!);\n      } catch (err) {\n        // eslint-disable-next-line no-console\n        console.log((err as Error).message);\n      }\n    } catch {\n      // Error creating a fn from user code (eg. syntax error)\n    }\n  } else {\n    throw Error('Canvas not supported');\n  }\n};\n\nconst clearCanvas = (canvas : HTMLCanvasElement, ctx : CanvasRenderingContext2D) => {\n  // Store the current transformation matrix\n  ctx.save();\n\n  // Use the identity matrix while clearing the canvas\n  ctx.setTransform(1, 0, 0, 1, 0, 0);\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n  // Restore the transform\n  ctx.restore();\n};\n\nexport default runSourceFile;\n","import React, { createRef, useEffect } from 'react';\nimport styled from 'styled-components';\n\nimport runSourceFile from './interpreter';\n\nexport const Preview : React.FC<Props> = ({\n  className, bundle,\n}) => {\n  const canvasRef = createRef<HTMLCanvasElement>();\n\n  useEffect(() => {\n    runSourceFile(bundle, canvasRef);\n  }, [bundle, canvasRef]);\n\n  return (\n    <div className={className}>\n      <canvas ref={canvasRef} width=\"355\" height=\"200\" />\n    </div>\n  );\n};\n\ninterface Props {\n  className?: string;\n  bundle?: string;\n}\n\nexport default styled(Preview)`\n  height: 100%;\n  width: 100%;\n\n  background-color: lightgray;\n  border-radius: 5px;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  color: black;\n  font-size: 16pt;\n  font-family: ${(props) => props.theme.typography.fontFamily};\n\n  & canvas {\n    width: 100%;\n    height: 100%;\n  }\n`;\n","import { connect } from 'react-redux';\n\nimport Preview from './preview';\nimport { RootState } from '../../setup/redux/rootReducer';\n\nconst mapStateToProps = (rootState : RootState) => ({\n  bundle: rootState.bundler.bundle,\n});\n\nexport default connect(mapStateToProps)(Preview as any);\n","import React from 'react';\nimport { Provider } from 'react-redux';\n\nimport ThemeProvider from './setup/themes/ThemeProvider';\nimport store from './setup/redux/store';\n\nimport PipLayout from './common/PipLayout';\nimport AppBar from './features/appbar';\nimport Sidebar from './features/sidebar';\nimport Editor from './features/editor';\nimport Preview from './features/preview';\n\nimport './App.css';\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <ThemeProvider>\n        <div className=\"App\">\n          <AppBar className=\"appbar\" />\n\n          <PipLayout\n            className=\"editor\"\n            background={<Editor />}\n            pip={<Preview />}\n          />\n          <Sidebar className=\"sidebar\" />\n        </div>\n      </ThemeProvider>\n    </Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost'\n    // [::1] is the IPv6 localhost address.\n    || window.location.hostname === '[::1]'\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    || window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service '\n              + 'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all '\n                  + 'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404\n        || (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport commitNumber from './commit_number';\n\n// eslint-disable-next-line no-console\nconsole.log(`Playground version ${(commitNumber || '').slice(-8)}`);\n\n// eslint-disable-next-line no-undef\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}