{"version":3,"sources":["setup/themes/muiTheme.tsx","setup/themes/styledComponentsTheme.tsx","setup/themes/ThemeProvider.tsx","services/project/redux/reducer.ts","services/bundler/redux/reducer.ts","setup/redux/rootReducer.ts","services/project/defaultSources.js","services/project/projectService.ts","services/project/redux/actions.ts","services/project/redux/selectors.ts","services/project/sagas/newSource.saga.ts","services/project/sagas/updateSource.saga.ts","services/project/sagas/renameFile.saga.ts","services/project/sagas/deleteFile.saga.ts","services/bundler/redux/sagas/actions.ts","services/project/sagas/rootSaga.ts","services/bundler/redux/actions.ts","services/bundler/bundlerService.ts","services/project/sagas/actions.ts","services/project/index.ts","services/bundler/redux/sagas/build.saga.ts","services/bundler/redux/sagas/rootSaga.ts","setup/redux/rootSaga.ts","setup/redux/store.ts","common/PipLayout/PipLayout.tsx","common/PipLayout/index.ts","common/ClickableTextField/ClickableTextField.tsx","features/appbar/views/appbar/appbar.tsx","features/appbar/index.js","features/appbar/views/appbar/index.js","common/Button/Button.tsx","features/sidebar/views/sourceFileRow/sourceFileRow.tsx","features/sidebar/views/sourceFileRow/index.js","features/sidebar/views/sourceFileList/sourceFileList.tsx","features/sidebar/views/sourceFileList/index.js","features/sidebar/views/sidebar/sidebar.tsx","features/sidebar/index.js","features/sidebar/views/sidebar/index.js","features/editor/customSimpleEditor/highlight.js","features/editor/customSimpleEditor/CustomSimpleEditor.tsx","features/editor/editor.tsx","features/editor/index.js","features/preview/interpreter.tsx","features/preview/preview.tsx","features/preview/index.ts","App.js","serviceWorker.js","index.js","commit_number.js"],"names":["muiTheme","createMuiTheme","palette","type","primary","main","secondary","error","success","background","default","blueGrey","paper","theme","list","hover","button","red","augmentColor","deepOrange","green","ThemeProvider","props","styledComponentsTheme","StylesProvider","injectFirst","children","INITIAL_STATE","sourceFiles","activeSourceFileId","reducer","state","action","payload","filter","f","id","map","s","patch","isBuilding","bundle","combineReducers","sourceFileStore","sourceFileReducer","bundler","bundlerReducer","JSON","parse","decodeURI","existingSources","maxId","reduce","max","name","code","stored","window","localStorage","getItem","files","Array","isArray","length","defaultFiles","sources","setItem","stringify","setFileList","setActiveFileId","patchFile","activeSourceFile","sourcesFiles","activeId","find","watchNewSource","newSource","take","call","select","selectors","existingFiles","ProjectService","createNewSourceFile","filesToAdd","saveFiles","put","watchUpdateSource","updateSource","newCode","storeActions","watchRenameFile","renameFile","newName","watchDeleteFile","deleteFile","types","rootSaga","loadFromLocalStorage","all","load","requestBuild","projectId","ReqBuild","finishBuild","Babel","presetReact","console","log","file","result","presets","transpiledCode","entryPoint","virtualModules","forEach","src","inputOptions","input","plugins","virtual","outputOptions","rollup","generate","generated","output","actions","sagaActions","watchRequestBuild","build","debounce","transpiledFiles","i","transpiled","BundlerService","transpile","push","delay","rootProjectSaga","rootBundlerSaga","sagaMiddleware","createSagaMiddleware","store","createStore","rootReducer","applyMiddleware","run","Container","styled","div","Background","PictureInPicture","PipLayout","className","pip","ClickableTextField","defaultValue","controlledValue","value","onChange","onFocus","onBlur","inputRef","React","useRef","useState","uncontrolledValue","setUncontrolledValue","hasFocus","setFocus","onClick","current","focus","InputBase","fullWidth","event","undefined","target","AppBar","originalName","setOriginalName","updateName","sourceFile","newSourceFile","Object","assign","connect","date","Date","now","dispatch","StyledButton","ButtonBase","color","contrastText","dark","typography","fontFamily","fontSize","fontWeight","getColor","toLowerCase","withTheme","rest","selected","Name","SourceFileRow","renderCount","this","Component","key","selectedSourceFileId","setSelected","SourceFileList","Sidebar","addSourceFile","removeSourceFile","highlightFn","highlight","languages","js","CustomSimpleEditor","onValueChange","padding","style","width","minHeight","Div","Editor","updateCode","projectActions","bundlerActions","clearCanvas","canvas","ctx","save","setTransform","clearRect","height","restore","runSourceFile","getContext","Error","userFn","Function","err","message","canvasRef","createRef","useEffect","ref","rootState","Preview","App","Boolean","location","hostname","match","slice","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.dd750ad1.chunk.js","sourcesContent":["import { createMuiTheme } from '@material-ui/core';\n\nimport blueGrey from '@material-ui/core/colors/blueGrey';\n\nconst muiTheme = createMuiTheme({\n  palette: {\n    type: 'dark',\n\n    primary: { main: '#89FFF5' },\n    secondary: { main: '#1A4CAF' },\n    error: { main: '#9B1D20' },\n    success: { main: '#98CE5A' },\n    background: {\n      default: blueGrey[900],\n      paper: blueGrey[700],\n    },\n  },\n});\n\nexport default muiTheme;\n","import { DefaultTheme } from 'styled-components';\nimport { green, deepOrange } from '@material-ui/core/colors';\nimport muiTheme from './muiTheme';\n\nconst theme = {\n  ...muiTheme,\n  palette: {\n    ...muiTheme.palette,\n    background: {\n      default: muiTheme.palette.background.default,\n      paper: muiTheme.palette.background.paper,\n    },\n\n    list: {\n      background: muiTheme.palette.background.default,\n      hover: muiTheme.palette.background.paper,\n    },\n\n    button: {\n      default: muiTheme.palette.secondary,\n      red: muiTheme.palette.augmentColor({ main: deepOrange[800] }),\n      green: muiTheme.palette.augmentColor({ main: green[700] }),\n    },\n  },\n};\n\ndeclare module 'styled-components' {\n  type Theme = typeof theme;\n  export interface DefaultTheme extends Theme {}\n}\n\nexport type ApplicationTheme = DefaultTheme;\nexport default theme;\n","import React from 'react';\n\nimport { MuiThemeProvider } from '@material-ui/core/';\nimport StylesProvider from '@material-ui/styles/StylesProvider';\nimport { ThemeProvider as StyledThemeProvider } from 'styled-components';\n\nimport styledComponentsTheme from './styledComponentsTheme';\nimport muiTheme from './muiTheme';\n\nconst ThemeProvider = (props : any) => (\n  <StyledThemeProvider theme={styledComponentsTheme}>\n    <MuiThemeProvider theme={muiTheme}>\n      <StylesProvider injectFirst>\n        { props.children }\n      </StylesProvider>\n    </MuiThemeProvider>\n  </StyledThemeProvider>\n);\n\nexport default ThemeProvider;\n","import ProjectState from './projectState';\nimport { ProjectAction } from './actions';\n\nexport const INITIAL_STATE: ProjectState = {\n  sourceFiles: [],\n  activeSourceFileId: null,\n};\n\nconst reducer = (state = INITIAL_STATE, action: ProjectAction): ProjectState => {\n  switch (action.type) {\n    case 'project/SET_FILES':\n      return {\n        ...state,\n        sourceFiles: action.payload,\n      };\n    case 'project/APPEND_FILE':\n      return {\n        ...state,\n        sourceFiles: [...state.sourceFiles, action.payload],\n      };\n    case 'project/REMOVE_FILE':\n      return {\n        ...state,\n        sourceFiles: state.sourceFiles.filter((f) => f.id !== action.payload),\n      };\n    case 'project/SET_ACTIVE_FILE':\n      return {\n        ...state,\n        activeSourceFileId: action.payload as number,\n      };\n    case 'project/PATCH_FILE':\n      return {\n        ...state,\n        sourceFiles: state.sourceFiles.map((s) => {\n          const { patch, id } = action.payload;\n          if (s.id === id) {\n            return {\n              ...s,\n              ...patch,\n            };\n          }\n\n          return s;\n        }),\n      };\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import BundlerState from './bundlerState';\nimport type { BundlerAction } from './actions';\n\nexport const INITIAL_STATE: BundlerState = {\n  isBuilding: false,\n  bundle: null,\n};\n\nconst reducer = (state = INITIAL_STATE, action: BundlerAction): BundlerState => {\n  switch (action.type) {\n    case 'bundler/BEGIN_BUILD':\n      return {\n        ...state,\n        isBuilding: true,\n      };\n    case 'bundler/FINISH_BUILD':\n      return {\n        ...state,\n        isBuilding: false,\n        bundle: action.payload.bundle,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import { combineReducers } from 'redux';\n\nimport sourceFileReducer from '../../services/project/redux/reducer';\nimport bundlerReducer from '../../services/bundler/redux/reducer';\n\nimport type ProjectState from '../../services/project/redux/projectState';\nimport type BundlerState from '../../services/bundler/redux/bundlerState';\n\nexport default combineReducers({\n  sourceFileStore: sourceFileReducer,\n  bundler: bundlerReducer,\n});\n\nexport type RootState = {\n  sourceFileStore: ProjectState;\n  bundler: BundlerState;\n};\n","export default JSON.parse(decodeURI(`\n%5B%7B%22id%22:1,%22name%22:%22Sobre%22,%22code%22:%22//%20Esse%20playground%20pode%20ser%20usado%20para%20explorar%20o%20elemento%20HTML%20%3Ccanvas%20/%3E%20%5Cn//%5Cn//%20O%20contexto%20fica%20dispon%C3%ADvel%20na%20vari%C3%A1vel%20ctx%5Cn//%20Ver:%20https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Basic_usage%5Cnctx.fillStyle%20=%20'rgb(200,%200,%200)';%5Cnctx.fillRect(10,%2010,%2050,%2050);%5Cn%5Cn%5Cn//%20O%20c%C3%B3digo%20%C3%A9%20interpretado%20em%20tempo%20real%5Cn//%20Experimente%20descomentar%20as%20linhas%20abaixo:%5Cn%5Cn//%20ctx.fillStyle%20=%20'rgba(0,%200,%20200,%200.5)';%5Cn//%20ctx.fillRect(30,%2030,%2050,%2050);%5Cn%5Cn%5Cn//%20C%C3%B3digo%20fonte%20dispon%C3%ADvel%20em:%5Cn//%20https://github.com/pedroblanc/p5x-playground%5Cn//%5Cn//%5Cn//%20Aviso:%20vers%C3%A3o%20EXTREMAMENTE%20inicial%5Cn//%5Cn//%20O%20c%C3%B3digo%20de%20usu%C3%A1rio%20%C3%A9%20interpretado%20no%20mesmo%20contexto%20que%20a%20aplica%C3%A7%C3%A3o%5Cn//%20roda%20e%20tem%20acesso%20a%20todos%20os%20recursos%20da%20p%C3%A1gina.%5Cn//%5Cn//%20Ex:%20descomente%20para%20mudar%20o%20nome%20da%20p%C3%A1gina%5Cn//%20document.title%20=%20'Hacked!';%5Cn%22%7D,%7B%22id%22:2,%22name%22:%22Longcat%22,%22code%22:%22//%20Long%20line:%5Cn//%20begin%20%3C----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------%3E%20end%5Cn%5Cn//%20Longcat%20is%20looooooong%5Cn%5Cn%20%20%20/%5C%5C_____/%5C%5C%5Cn%20%20/%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%20%5C%5C%5Cn%20%20%7C%E2%80%83%20O%E2%80%83%20%20O%20%20%7C%5Cn%20%20%5C%5C%E2%80%83%E2%80%83%20%20%E2%88%87%E2%80%83%20%20%20%7C%5Cn%E2%80%83%20%20%5C%5C%20%20_%7C_%E2%80%83%20/%5Cn%20%E2%80%83/%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%5C%5C______%5Cn%20/%E2%80%83%20%20________%20%20%20%20%20%5C%5C%5Cn%20%7C%20______%20_%20%20%5C%5C%20%5C%5C__/%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%E2%80%83%20%20%20%5C%5C__/%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%E2%80%83%E2%80%83%20%20%20%20%7C%5Cn%E2%80%83%7C%E2%80%83%E2%80%83%20%20%20%20%E2%80%83%E2%80%83%7C%5Cn%22%7D%5D\n`));\n","/* eslint-disable class-methods-use-this */\nimport { SourceFile } from './types';\n\nimport defaultFiles from './defaultSources.js';\n\nconst LS_STORAGE = 'sourceFiles';\n\nclass ProjectService {\n  public createNewSourceFile(existingSources : SourceFile[]) : SourceFile {\n    const maxId = existingSources.reduce((max, s) => (s.id > max ? s.id : max), 0);\n\n    return {\n      id: maxId + 1,\n      name: `New File (${maxId + 1})`,\n      code: '',\n    };\n  }\n\n  public load() : SourceFile [] {\n    try {\n      // eslint-disable-next-line no-undef\n      const stored = window?.localStorage?.getItem(LS_STORAGE);\n      const files = JSON.parse(stored || '');\n\n      if (Array.isArray(files) && files.length > 0) {\n        return files;\n      }\n    } catch {\n      return defaultFiles;\n    }\n\n    return defaultFiles;\n  }\n\n  public saveFiles(sources : SourceFile[]) {\n    // eslint-disable-next-line no-undef\n    window.localStorage.setItem(LS_STORAGE, JSON.stringify(sources));\n  }\n}\n\nexport default new ProjectService();\nexport type { ProjectService };\n","import { SourceFile } from '../types';\n\n// Action Creators\nexport const setFileList = (files: SourceFile[]) => ({\n  type: 'project/SET_FILES',\n  payload: files,\n} as const);\n\nexport const appendFile = (file: SourceFile) => ({\n  type: 'project/APPEND_FILE',\n  payload: file,\n} as const);\n\nexport const removeFile = (id: number) => ({\n  type: 'project/REMOVE_FILE',\n  payload: id,\n} as const);\n\nexport const setActiveFileId = (id: number) => ({\n  type: 'project/SET_ACTIVE_FILE',\n  payload: id,\n} as const);\n\nexport const patchFile = (id: number, patch: Partial<SourceFile>) => ({\n  type: 'project/PATCH_FILE',\n  payload: { id, patch },\n} as const);\n\nexport type ProjectAction =\n  | ReturnType<typeof setFileList>\n  | ReturnType<typeof appendFile>\n  | ReturnType<typeof removeFile>\n  | ReturnType<typeof setActiveFileId>\n  | ReturnType<typeof patchFile>\n","import { RootState } from '../../../setup/redux/rootReducer';\nimport { SourceFile } from '../types';\n\n// eslint-disable-next-line import/prefer-default-export\nexport function activeSourceFile(state: RootState) : SourceFile | null {\n  const sourcesFiles : SourceFile[] = state.sourceFileStore.sourceFiles;\n  const activeId = state.sourceFileStore.activeSourceFileId;\n\n  return sourcesFiles.find((s) => s.id === activeId) || null;\n}\n\nexport function files(state: RootState) : SourceFile[] {\n  return state?.sourceFileStore?.sourceFiles || [];\n}\n","import {\n  call, take, select, put,\n} from 'redux-saga/effects';\n\nimport type { SagaActionType } from './actions';\n\nimport * as storeActions from '../redux/actions';\nimport * as selectors from '../redux/selectors';\nimport ProjectService from '../projectService';\n\nexport function* watchNewSource() {\n  while (true) {\n    yield take('project/sagas/NEW_SOURCE' as SagaActionType);\n    yield call(newSource);\n  }\n}\n\nexport function* newSource() {\n  const existingFiles = yield select(selectors.files);\n  const filesToAdd = yield call(ProjectService.createNewSourceFile, existingFiles);\n\n  ProjectService.saveFiles([...existingFiles, filesToAdd]);\n  yield put(storeActions.appendFile(filesToAdd));\n}\n","import { take, select, put } from 'redux-saga/effects';\n\nimport * as storeActions from '../redux/actions';\nimport * as selectors from '../redux/selectors';\n\nimport * as actions from './actions';\nimport type { SagaActionType } from './actions';\nimport ProjectService from '../projectService';\n\n\nexport function* watchUpdateSource() {\n  while (true) {\n    const action = yield take('project/sagas/UPDATE_SOURCE' as SagaActionType);\n    yield updateSource(action);\n  }\n}\n\nexport function* updateSource(action: ReturnType<typeof actions.updateSource>) {\n  const { id, newCode } = action.payload;\n\n  const files = selectors.files(yield select());\n  files.map((f) => {\n    if (f.id === id) { return { ...f, code: newCode }; }\n    return f;\n  });\n\n  ProjectService.saveFiles(files);\n  yield put(storeActions.patchFile(id, { code: newCode }));\n}\n","import {\n  take, select, put,\n} from 'redux-saga/effects';\nimport type { SagaActionType } from './actions';\n\nimport * as actions from './actions';\nimport * as storeActions from '../redux/actions';\nimport * as selectors from '../redux/selectors';\nimport ProjectService from '../projectService';\n\nexport function* watchRenameFile() {\n  while (true) {\n    const action = yield take('project/sagas/RENAME_FILE' as SagaActionType);\n    yield renameFile(action);\n  }\n}\n\nexport function* renameFile(action: ReturnType<typeof actions.renameFile>) {\n  const { id, newName } = action.payload;\n  \n  const files = selectors.files(yield select());\n  files.map((f) => {\n    if (f.id === id) {\n      return { ...f, name: newName };\n    }\n    return f;\n  });\n\n  ProjectService.saveFiles(files);\n  yield put(storeActions.patchFile(id, { name: newName }));\n}\n","import { take, select, put } from 'redux-saga/effects';\n\nimport * as storeActions from '../redux/actions';\nimport * as selectors from '../redux/selectors';\n\nimport * as actions from './actions';\nimport type { SagaActionType } from './actions';\nimport ProjectService from '../projectService';\n\nexport function* watchDeleteFile() {\n  while (true) {\n    const action = yield take('project/sagas/DELETE_FILE' as SagaActionType);\n    yield deleteFile(action);\n  }\n}\n\nexport function* deleteFile(action: ReturnType<typeof actions.deleteFile>) {\n  const { id } = action.payload;\n\n  let files = selectors.files(yield select());\n  files = files.filter((f) => f.id !== id);\n\n  ProjectService.saveFiles(files);\n  yield put(storeActions.setFileList(files));\n}\n","export enum types {\n  ReqBuild = 'bundler/sagas/REQ_BUILD',\n}\n\nexport const requestBuild = (projectId: number) => ({\n  type: types.ReqBuild,\n  payload: { projectId },\n} as const);\n\nexport type BundlerSagaAction =\n  | ReturnType<typeof requestBuild>\n","/* eslint-disable no-console */\nimport { all, put } from 'redux-saga/effects';\n\nimport ProjectService from '../projectService';\n\nimport * as storeActions from '../redux/actions';\nimport { watchNewSource } from './newSource.saga';\nimport { watchUpdateSource } from './updateSource.saga';\nimport { watchRenameFile } from './renameFile.saga';\nimport { watchDeleteFile } from './deleteFile.saga';\n\n\nexport default function* rootSaga() {\n  yield loadFromLocalStorage();\n  \n  yield all([\n    watchNewSource(),\n    watchUpdateSource(),\n    watchRenameFile(),\n    watchDeleteFile(),\n  ]);\n}\n\nfunction* loadFromLocalStorage() {\n  const sources = ProjectService.load();\n  yield put(storeActions.setFileList(sources));\n  yield put(storeActions.setActiveFileId(sources[0]?.id));\n}\n","export const beginBuild = () => ({\n  type: 'bundler/BEGIN_BUILD',\n} as const);\n\nexport const finishBuild = (bundle: string) => ({\n  type: 'bundler/FINISH_BUILD',\n  payload: { bundle },\n} as const);\n\nexport type BundlerAction =\n  | ReturnType<typeof beginBuild>\n  | ReturnType<typeof finishBuild>\n","/* eslint-disable class-methods-use-this */\nimport * as Babel from '@babel/standalone';\nimport * as rollup from 'rollup';\nimport virtual from '@rollup/plugin-virtual';\nimport presetReact from '@babel/preset-react';\n\nimport { SourceFile } from '../project/types';\n\ninterface TranspiledSource {\n  name: string;\n  transpiledCode: string;\n}\n\nexport class BundlerService {\n  constructor() {\n    // setup babel\n    Babel.registerPreset('@babel/preset-react', presetReact);\n  }\n\n  public build() : string {\n    console.log('Should compile project');\n    return '// This should be the bundled code';\n  }\n\n  transpile(file : SourceFile) : TranspiledSource {\n    const babelConfig = {\n      presets: ['@babel/preset-react'],\n    };\n  \n    const result = Babel.transform(file.code, babelConfig);\n  \n    return {\n      name: file.name,\n      transpiledCode: result.code ?? '',\n    };\n  }\n\n  async bundle(sources: TranspiledSource[], entryPoint: string) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const virtualModules : any = {};\n    (sources || []).forEach((src) => {\n      virtualModules[src.name] = src.transpiledCode;\n    });\n  \n    const inputOptions = {\n      input: entryPoint,\n      plugins: [\n        virtual(virtualModules) as Plugin,\n      ],\n    };\n    const outputOptions = {};\n  \n    const bundler = await rollup.rollup(inputOptions);\n    const generated = await bundler.generate(outputOptions);\n    return generated.output[0].code;\n  }\n}\n\nexport default new BundlerService();\n","export const newSource = () => ({\n  type: 'project/sagas/NEW_SOURCE',\n} as const);\n\nexport const updateSource = (id: number, newCode: string) => ({\n  type: 'project/sagas/UPDATE_SOURCE',\n  payload: { id, newCode },\n} as const);\n\nexport const renameFile = (id: number, newName: string) => ({\n  type: 'project/sagas/RENAME_FILE',\n  payload: { id, newName },\n} as const);\n\nexport const deleteFile = (id: number) => ({\n  type: 'project/sagas/DELETE_FILE',\n  payload: { id },\n} as const);\n\nexport type SagaAction =\n  | ReturnType<typeof newSource>\n  | ReturnType<typeof updateSource>\n  | ReturnType<typeof renameFile>\n  | ReturnType<typeof deleteFile>\n\nexport type SagaActionType = SagaAction['type'];\n","import * as storeActions from './redux/actions';\nimport * as sagaActions from './sagas/actions';\nimport * as selectors from './redux/selectors';\n\nconst actions = {\n  setActiveFileId: storeActions.setActiveFileId,\n  ...sagaActions,\n};\n\nexport { actions, selectors };\n","import {\n  debounce, delay, put, select, call,\n} from 'redux-saga/effects';\n\nimport * as actions from './actions';\nimport * as storeActions from '../actions';\nimport BundlerService from '../../bundlerService';\nimport { selectors } from '../../../project';\n\nexport function* watchRequestBuild() {\n  yield debounce(1000, actions.types.ReqBuild, build);\n}\n\nexport function* build(action : ReturnType<typeof actions.requestBuild>) {\n  const state = yield select();\n  const files = selectors.files(state);\n  const entryPoint = files[0].name;\n\n  console.log(`Starting build for projectId ${action.payload.projectId} with ${files.length} files`);\n  console.log(`Entry point is ${entryPoint}`);\n  yield put(storeActions.beginBuild());\n\n  try {\n    const transpiledFiles = [];\n    for (let i = 0; i < files.length; i++) {\n      try {\n        const transpiled = BundlerService.transpile(files[i]);\n        transpiledFiles.push(transpiled);\n      } catch (e) {\n        console.error(`Transpilation error in file ${files[i].name}`);\n        console.error(e);\n        throw e;\n      }\n    }\n\n    const bundle = (yield call(BundlerService.bundle, transpiledFiles, files[0].name) as unknown) as string;\n\n    console.log('Build done');\n    console.log({ bundle });\n    yield put(storeActions.finishBuild(bundle));\n  } catch (e) {\n    console.error('Build error!', e);\n    yield put(storeActions.finishBuild('// Build error ocurred'));\n  }\n\n  yield delay(200);\n}\n","import { all } from 'redux-saga/effects';\n\nimport { watchRequestBuild } from './build.saga';\n\nexport default function* rootSaga() {\n  yield all([\n    watchRequestBuild(),\n  ]);\n}\n","import { all } from 'redux-saga/effects';\n\nimport rootProjectSaga from '../../services/project/sagas/rootSaga';\nimport rootBundlerSaga from '../../services/bundler/redux/sagas/rootSaga';\n\nexport default function* rootSaga() {\n  yield all([\n    rootProjectSaga(),\n    rootBundlerSaga(),\n  ]);\n}\n","import { createStore, applyMiddleware, Store } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\n\nimport rootReducer, { RootState } from './rootReducer';\nimport rootSaga from './rootSaga';\n\n\nconst sagaMiddleware = createSagaMiddleware();\n\nconst store : Store<RootState> = createStore(\n  rootReducer,\n  applyMiddleware(sagaMiddleware),\n);\n\nsagaMiddleware.run(rootSaga);\n\nexport default store;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Container = styled.div`\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-areas:\n     \".  .  .\"\n     \". pip .\"\n     \".  .  .\";\n\n  @media (max-width : 640px) {\n    grid-template-columns: 7% 1fr 7%;\n    grid-template-rows: 1fr auto 5%;\n  }\n  @media (min-width : 641px) {\n    grid-template-columns: 1fr max(290px, min(40%, 480px)) 24px;\n    grid-template-rows: 1fr auto 24px;\n  }\n`;\n\nconst Background = styled.div`\n  grid-column: 1 / -1 ;\n  grid-row: 1 / -1;\n\n  width: 100%;\n  height: 100%;\n`;\n\nconst PictureInPicture = styled.div`\n  grid-area: pip;\n\n  & > .pip-adjust-ratio {\n    position: relative;\n    height: 0;\n    padding-bottom: 56.25%; /* 56.25% = 16:9 ratio */\n\n    & > .pip-fill-height {\n      position: absolute;\n      top: 0; bottom: 0; left: 0; right: 0;\n    }\n  }\n`;\n\nexport const PipLayout : React.FC<Props> = ({\n  className, background, pip,\n}) => (\n  <Container className={className}>\n    <Background>\n      {background}\n    </Background>\n    <PictureInPicture>\n      <div className=\"pip-adjust-ratio\">\n        <div className=\"pip-fill-height\">\n          {pip}\n        </div>\n      </div>\n    </PictureInPicture>\n  </Container>\n);\n\ninterface Props {\n  className?: string;\n  background: React.ReactNode;\n  pip: React.ReactNode;\n}\n\nexport default PipLayout;\n","import PipLayout from './PipLayout';\n\nexport default PipLayout;\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport InputBase from '@material-ui/core/InputBase';\n\nexport const ClickableTextField : React.FC<Props> = ({\n  className, defaultValue, value: controlledValue, onChange, onFocus, onBlur,\n}) => {\n  const inputRef = React.useRef<HTMLInputElement>();\n  const [uncontrolledValue, setUncontrolledValue] = useState<string|null>(null);\n  const [hasFocus, setFocus] = useState(false);\n\n  return (\n    <Container\n      className={className}\n      onClick={() => inputRef?.current?.focus()}\n    >\n      <InputBase\n        inputRef={inputRef}\n        fullWidth\n\n        value={\n          hasFocus\n            ? controlledValue ?? uncontrolledValue\n            : (controlledValue ?? uncontrolledValue) || defaultValue\n        }\n\n        onFocus={() => {\n          setFocus(true);\n          if (onFocus) { onFocus(); }\n        }}\n        onBlur={() => {\n          setFocus(false);\n          if (onBlur) { onBlur(); }\n        }}\n        onChange={(event) => {\n          const isControlled = (controlledValue !== undefined && controlledValue !== null);\n          if (isControlled) {\n            setUncontrolledValue(null);\n          } else {\n            setUncontrolledValue(event.target.value);\n          }\n\n          if (onChange) { onChange(event.target.value); }\n        }}\n      />\n    </Container>\n  );\n};\n\nconst Container = styled('div')`\n  border-radius: 5px;\n\n  padding-left: 0.5em;\n  padding-right: 0.5em;\n\n  input {\n    cursor: default;\n  }\n\n  :hover {\n    background-color: ${({ theme }) => theme.palette.background.paper};\n  }\n  :focus-within {\n    background-color: ${({ theme }) => theme.palette.background.paper};\n    cursor: text;\n    input {\n      cursor: text;\n    }\n  }\n`;\n\ninterface Props {\n  className?: string;\n  label?: string;\n  defaultValue?: string;\n  value?: string;\n  onChange?: ((value: string) => void) | (() => void);\n  onFocus?: () => void;\n  onBlur?: () => void;\n}\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { ClickableTextField } from '../../../../common/ClickableTextField/ClickableTextField';\nimport { SourceFile } from '../../../../services/project/types';\n\nconst AppBar = (props: AppbarProps) => {\n  const [originalName, setOriginalName] = useState<string | undefined>('');\n\n  const updateName = (name?: string) => {\n    if (props.sourceFile) {\n      const newSourceFile = Object.assign(props.sourceFile, { name: name ?? '' });\n      props.renameFile(newSourceFile);\n    }\n  };\n\n  return (\n    <Container className={props.className}>\n      <ClickableTextField\n        defaultValue={originalName}\n        value={props.sourceFile?.name}\n        onFocus={() => {\n          setOriginalName(props.sourceFile?.name);\n        }}\n        onBlur={() => {\n          if (!props.sourceFile?.name && originalName) {\n            updateName(originalName);\n          }\n        }}\n        onChange={(value) => { updateName(value); }}\n      />\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  width: 100%;\n  background-color: ${(props) => props.theme.palette.background.default};\n  padding-left: 4px;\n  padding-right: 4px;\n\n  display: grid;\n  grid-template-columns: 1fr;\n  align-items: center;\n`;\n\ninterface AppbarProps {\n  className?: string;\n  sourceFile?: SourceFile;\n  renameFile: (sourceFile: SourceFile) => void;\n}\n\nexport default AppBar;\n","import AppBar from './views/appbar';\n\nexport default AppBar;\n","import { connect } from 'react-redux';\n\nimport { selectors, actions } from '../../../../services/project';\n\nimport AppBar from './appbar';\n\nconst mapStateToProps = (state) => ({\n  sourceFile: selectors.activeSourceFile(state),\n  date: Date.now(),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  renameFile: (id, name) => dispatch(actions.renameFile(id, name)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AppBar);\n","import React from 'react';\nimport ButtonBase, { ButtonBaseProps } from '@material-ui/core/ButtonBase';\nimport styled, { withTheme } from 'styled-components';\n\nimport IconMore from '@material-ui/icons/MoreHoriz';\nimport { ApplicationTheme } from '../../setup/themes/styledComponentsTheme';\n\nconst Button : React.FC<Props> = ({\n  children, color, theme, ...rest\n}) => (\n  <StyledButton\n    children={children ?? <IconMore />}\n    color={getColor(color, theme)}\n    theme={theme}\n    {...rest}\n  />\n);\n\nconst StyledButton = styled<any>(ButtonBase)`\n  min-height: 32px;\n  margin: 4px;\n  padding: 4px 8px;\n  border-radius: 5px;\n  color: ${({ color }) => color.contrastText};\n  background-color: ${({ color }) => color.main};\n  :hover {\n    background-color: ${({ color }) => color.dark}\n  }\n\n  font-family: ${({ theme }) => theme.typography.button.fontFamily};\n  font-size: ${({ theme }) => theme.typography.button.fontSize};\n  font-weight: ${({ theme }) => theme.typography.button.fontWeight};\n  text-transform: uppercase;\n`;\n\nconst getColor = (color: string | undefined, theme: ApplicationTheme) => {\n  switch ((color ?? '').toLowerCase()) {\n    case 'red':\n      return theme.palette.button.red;\n    case 'green':\n      return theme.palette.button.green;\n    default:\n      return theme.palette.button.default;\n  }\n};\n\ninterface Props extends ButtonBaseProps {\n  className?: string;\n  color?: string;\n  theme: ApplicationTheme\n}\n\nexport default withTheme(Button);\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport { SourceFile } from '../../../../services/project/types';\n\ninterface SourceFileRowProps {\n  sourceFile: SourceFile;\n  selected?: boolean;\n  onClick?: any;\n}\n\nconst Container = styled('div')<{selected?: boolean} & React.HTMLAttributes<HTMLDivElement>>`\n  width: 100%;\n  min-height: 48px;\n\n  color: white;\n  cursor: pointer;\n\n  background-color: ${({ selected, theme }) => (\n    selected\n      ? theme.palette.list.hover\n      : theme.palette.list.background\n  )};\n\n  :hover {\n    background-color: ${(props) => props.theme.palette.list.hover};\n  }\n`;\n\nconst Name = styled.div`\n  padding: 6px;\n  padding-left: 8px;\n\n  color: white;\n  font-size: 1em;\n  font-weight: 500;\n`;\n\nclass SourceFileRow extends React.Component<SourceFileRowProps> {\n  renderCount = 0;\n\n  render() {\n    this.renderCount += 1;\n\n    return (\n      <Container onClick={this.props.onClick} selected={this.props.selected}>\n        <Name>{this.props.sourceFile.name}</Name>\n      </Container>\n    );\n  }\n}\n\nexport default SourceFileRow;\n","import SourceFileRow from './sourceFileRow';\n\nexport default SourceFileRow;\n","import React from 'react';\n\nimport styled from 'styled-components';\nimport SourceFileRow from '../sourceFileRow';\nimport { SourceFile } from '../../../../services/project/types';\n\n\nexport const SourceFileList : React.FC<SourceFileListProps> = (props) => (\n  <div className={props.className}>\n    {props.sourceFiles?.map((s, i) => (\n      <SourceFileRow\n        sourceFile={s}\n        key={i}\n        selected={s.id === props.selectedSourceFileId}\n        onClick={() => props.setSelected(s.id)}\n      />\n    ))}\n  </div>\n);\n\ninterface SourceFileListProps {\n  className?: string;\n  sourceFiles: SourceFile[];\n  selectedSourceFileId: number;\n  setSelected: (id: number) => void;\n}\n\nexport default styled(SourceFileList)`\n  height: 100%;\n  overflow-y: auto;\n`;\n","import { connect } from 'react-redux';\n\nimport SourceFileList from './sourceFileList';\n\nimport { actions } from '../../../../services/project';\n\nconst mapStateToProps = ({ sourceFileStore }) => ({\n  sourceFiles: sourceFileStore.sourceFiles,\n  selectedSourceFileId: sourceFileStore.activeSourceFileId,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  setSelected: (id) => dispatch(actions.setActiveFileId(id)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SourceFileList);\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport IconDelete from '@material-ui/icons/Delete';\nimport IconAdd from '@material-ui/icons/Add';\n\nimport Button from '../../../../common/Button/Button';\n\nimport SourceFileList from '../sourceFileList';\n\nconst Sidebar : React.FC<SidebarProps> = ({\n  className, addSourceFile, removeSourceFile, activeSourceFileId,\n}) => {\n  return (\n    <Container className={className}>\n      <SourceFileList className=\"list\" />\n\n      <Button\n        className=\"button-add\"\n        color=\"green\"\n        onClick={addSourceFile}\n      >\n        <IconAdd />\n      </Button>\n\n      <Button\n        className=\"button-delete\"\n        color=\"Red\"\n        onClick={() => removeSourceFile(activeSourceFileId)}\n      >\n        <IconDelete />\n      </Button>\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  position: relative;\n  height: 100%;\n  overflow-y: hidden;\n\n  background-color: ${(props) => props.theme.palette.background.default};\n\n  display: grid;\n  grid-template-rows: 1fr 64px;\n  grid-template-columns: 70% 30%;\n  grid-template-areas:\n    \"list list\"\n    \"add delete\";\n\n  & .list {\n    margin-top: 12px;\n    grid-area: list;\n  }\n\n  & .button-add {\n    grid-area: add;\n    margin: 12px 6px;\n  }\n\n  & .button-delete {\n    grid-area: delete;\n    margin: 12px 6px;\n  }\n`;\n\ninterface SidebarProps {\n  className: string;\n  activeSourceFileId: number;\n  addSourceFile: () => void;\n  removeSourceFile: (id: number) => void;\n}\n\nexport default Sidebar;\n","import Sidebar from './views/sidebar';\n\nexport default Sidebar;\n","import { connect } from 'react-redux';\n\nimport Sidebar from './sidebar';\nimport { actions } from '../../../../services/project';\n\nconst mapStateToProps = ({ sourceFileStore }) => ({\n  sourceFiles: sourceFileStore.sourceFiles,\n  activeSourceFileId: sourceFileStore.activeSourceFileId,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  addSourceFile: () => dispatch(actions.newSource()),\n  removeSourceFile: (id) => dispatch(actions.deleteFile(id)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Sidebar);\n","import { highlight, languages } from 'prismjs/components/prism-core';\n\nconst highlightFn = (code) => highlight(code, languages.js);\n\nexport default highlightFn;\n","import React from 'react';\n\nimport ReactSimpleCodeEditor from 'react-simple-code-editor';\nimport highlight from './highlight';\n\nimport 'prismjs/components/prism-clike';\nimport 'prismjs/components/prism-javascript';\n\nimport './prism.css';\n\n\ninterface CustomSimpleEditorProps {\n  value?: string;\n  onValueChange: (value: string) => void;\n}\n\nexport const CustomSimpleEditor = (props: CustomSimpleEditorProps) => (\n  <ReactSimpleCodeEditor\n    value={props.value || ''}\n    onValueChange={props.onValueChange}\n    highlight={highlight}\n    padding={10}\n    style={{\n      fontFamily: '\"Fira code\", \"Fira Mono\", monospace',\n      fontSize: 12,\n      color: 'white',\n      width: '100%',\n      minHeight: '100%',\n    }}\n  />\n);\n\nexport default CustomSimpleEditor;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport CustomSimpleEditor from './customSimpleEditor/CustomSimpleEditor';\nimport { SourceFile } from '../../services/project/types';\n\ninterface EditorProps {\n  className?: string;\n  count?: number;\n  sourceFile?: SourceFile;\n  updateCode: (id: number, value: string) => void;\n  requestBuild: () => void;\n}\n\nconst Div = styled.div`\n  background-color: ${(props) => props.theme.palette.background.default};\n  height: 100%;\n  overflow-y: auto;\n`;\n\nconst Editor : React.FC<EditorProps> = (props) => {\n  return (\n    <Div className={props.className}>\n      <CustomSimpleEditor\n        value={props?.sourceFile?.code}\n        onValueChange={(value) => {\n          const id = props.sourceFile?.id;\n          if (id) {\n            props.updateCode(id, value);\n            props.requestBuild();\n          }\n        }}\n      />\n    </Div>\n  );\n};\n\nexport default Editor;\n","import { connect } from 'react-redux';\n\nimport { selectors, actions as projectActions } from '../../services/project';\nimport { actions as bundlerActions } from '../../services/bundler';\n\nimport Editor from './editor';\n\nconst mapStateToProps = (state) => ({\n  sourceFile: selectors.activeSourceFile(state),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  updateCode: (id, newCode) => dispatch(projectActions.updateSource(id, newCode)),\n  requestBuild: () => dispatch(bundlerActions.requestBuild(0)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Editor);\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { RefObject } from 'react';\n\n\nconst runSourceFile = (code?: string, canvas?: RefObject<HTMLCanvasElement>) => {\n  const ctx = canvas?.current?.getContext('2d');\n\n  if (ctx) {\n    try {\n      // eslint-disable-next-line no-new-func\n      const userFn = Function(`return (ctx) => {\n        ${code}\n      }`)();\n\n      try {\n        clearCanvas(canvas!.current!, ctx!);\n        userFn(ctx!);\n      } catch (err) {\n        // eslint-disable-next-line no-console\n        console.log((err as Error).message);\n      }\n    } catch {\n      // Error creating a fn from user code (eg. syntax error)\n    }\n  } else {\n    throw Error('Canvas not supported');\n  }\n};\n\nconst clearCanvas = (canvas : HTMLCanvasElement, ctx : CanvasRenderingContext2D) => {\n  // Store the current transformation matrix\n  ctx.save();\n\n  // Use the identity matrix while clearing the canvas\n  ctx.setTransform(1, 0, 0, 1, 0, 0);\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n  // Restore the transform\n  ctx.restore();\n};\n\nexport default runSourceFile;\n","import React, { createRef, useEffect } from 'react';\nimport styled from 'styled-components';\n\nimport runSourceFile from './interpreter';\n\nexport const Preview : React.FC<Props> = ({\n  className, bundle,\n}) => {\n  const canvasRef = createRef<HTMLCanvasElement>();\n\n  useEffect(() => {\n    runSourceFile(bundle, canvasRef);\n  }, [bundle, canvasRef]);\n\n  return (\n    <div className={className}>\n      <canvas ref={canvasRef} width=\"355\" height=\"200\" />\n    </div>\n  );\n};\n\ninterface Props {\n  className?: string;\n  bundle?: string;\n}\n\nexport default styled(Preview)`\n  height: 100%;\n  width: 100%;\n\n  background-color: lightgray;\n  border-radius: 5px;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  color: black;\n  font-size: 16pt;\n  font-family: ${(props) => props.theme.typography.fontFamily};\n\n  & canvas {\n    width: 100%;\n    height: 100%;\n  }\n`;\n","import { connect } from 'react-redux';\n\nimport Preview from './preview';\nimport { RootState } from '../../setup/redux/rootReducer';\n\nconst mapStateToProps = (rootState : RootState) => ({\n  bundle: rootState.bundler.bundle,\n});\n\nexport default connect(mapStateToProps)(Preview as any);\n","import React from 'react';\nimport { Provider } from 'react-redux';\n\nimport ThemeProvider from './setup/themes/ThemeProvider';\nimport store from './setup/redux/store';\n\nimport PipLayout from './common/PipLayout';\nimport AppBar from './features/appbar';\nimport Sidebar from './features/sidebar';\nimport Editor from './features/editor';\nimport Preview from './features/preview';\n\nimport './App.css';\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <ThemeProvider>\n        <div className=\"App\">\n          <AppBar className=\"appbar\" />\n\n          <PipLayout\n            className=\"editor\"\n            background={<Editor />}\n            pip={<Preview />}\n          />\n          <Sidebar className=\"sidebar\" />\n        </div>\n      </ThemeProvider>\n    </Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost'\n    // [::1] is the IPv6 localhost address.\n    || window.location.hostname === '[::1]'\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    || window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service '\n              + 'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all '\n                  + 'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404\n        || (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport commitNumber from './commit_number';\n\n// eslint-disable-next-line no-console\nconsole.log(`Playground version ${(commitNumber || '').slice(-8)}`);\n\n// eslint-disable-next-line no-undef\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","export default 'f73419ba446995cae76076cb02e537ada7df272a';\n"],"sourceRoot":""}